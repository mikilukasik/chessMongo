<style>

.atable, td  {
  border: 1px solid grey;
  border-collapse: collapse;
  padding: 5px;
  
}
.btd {
	 border: none;
	border-collapse: collapse;
	padding: 5px;
	width: 100px;
}
.atable tr:nth-child(odd)	{
  background-color: #f1f1f1;
}
.atable tr:nth-child(even) {
  background-color: #ffffff;
}

.msgs{
	vertical-align:bottom;
	height:80%
}
.makeGreen {
	color: green
}

.makeRed {
	color: red
}

.makeGrey {
	color: grey
}

</style>
<h3>Clients:</h3>
	<div style="width:100%;overflow-x:scroll">
	<table class="atable">
		<tr>
			<td>connectionID</td>
			<td ng-repeat="x in clients track by $index">
					
					{{x.connectionID}}
				
			</td>
			
		</tr><tr>
			<td>speed</td>
			<td ng-repeat="x in clients track by $index">
					
					{{x.speed}}
				
			</td>
		</tr><tr>
			<td>currentState</td>	
			<td ng-repeat="x in clients track by $index">
					
					{{x.currentState}}
				
			</td>
		</tr><tr>
			<td>viewing</td>	
			<td ng-repeat="x in clients track by $index">
					
					{{x.viewing}}
				
			</td>
		</tr><tr>
			<td>history</td>	
			<td ng-repeat="x in clients track by $index">
					
					{{x.history}}
				
			</td>
		</tr>
		
	</table>
	</div>




<h3>Views:</h3>
<!--
	<form ng-submit="setMod(mType,min,max)">
		add modType:
		<input ng-model="mType"></input>
		<button>Add</button>
		<br> min. modVal: (>0)
		<input ng-model="min"></input>
		<button>Set</button>
		<br> max. modVal: (>0)
		<input ng-model="max"></input>
		<button>Set</button>
		<br>
		
	</form>
	<button ng-click="clearModTypes()">Clear modTypes</button>
	modTypes:
	<span ng-repeat="x in modTypes track by $index"> {{x}} </span> Tasks in queue: {{taskQ}}

	<br> Known thinkers:
	<table style="table-layout: fixed" class="thinkerTable">
		<tr>
		<td ng-repeat="x in knownThinkers track by $index">

			<div ng-class="{ makeGreen: x.polling , makeRed: !x.polling }">{{x.id}}</div>
			
		</td>
		</tr>
		
		<tr>
		<td ng-repeat="x in knownThinkers track by $index">

			<div>t/ms: {{x.spd}} ({{x.pct}}%)</div>
			
		</td>
		</tr>
		
		<tr>
		<td ng-repeat="x in knownThinkers track by $index">

			<div ng-class="{ makeGrey: x.polling }">#{{x.taskNum}}</div>
			
		</td>
		</tr>
		
	
		
		<tr>
		<td ng-repeat="x in knownThinkers track by $index" class="msgs">

			
			<div ng-repeat="y in x.messages track by $index">{{y}}</div>
			
		</td>
		</tr>
		
		
		
		
		
		
		
	</table>
	<br>

	<button ng-click="refreshAllThinkers()">Refresh all thinkers</button>
	<button ng-click="startAllLearners()">Start all learners</button>
	<button ng-click="stopAllLearners()">Stop all learners</button>
	<button ng-click="echoTestAll()">Echo test all</button>











-->


	<table class="atable">
		
		<!--<tr>
			<th>
				views
			</th>
			<th>
				subViews  viewParts: connections
			</th>
			
		</tr>
		-->
		<tr ng-repeat="x in activeViews track by $index">
			
		<td>{{x.viewName}}</td>
		
		<td>
			
			<table>
				
				<tr ng-repeat="y in x.subViews track by $index">
					
					<td class="btd">
						{{y.subViewName}}
					</td>
					
					
					<td ng-repeat="z in y.viewParts track by $index">
				
						<!--<div ng-if="$index==0">{{y}}</div>-->
						{{z.viewPartName}}: {{z.viewers}}
						<!--<div>
							<li ng-repeat="z in y track by $index">{{z.viewPartName}}: {{z.viewers}}</li>
						</div>-->
						<!--<ul ng-if="$index==1" ng-repeat="z in y track by $index">{{z}}</ul>-->
					</td>
							
					
					
				</tr>
				
				
				
				
			</table>
					
			
		</td>
				

			
		</tr>
		
		
		
		
		
	</table>
	
<!--	
	
	
	<table>
		
		
		

		<tr ng-repeat="x in speedTests track by $index">

			<td ng-repeat="y in x track by $index">
				{{y}}
			</td>
		</tr>
	</table>

	<br>
	<br> stats:

	<br>
	<button ng-click="refreshStats()">refresh stats</button>
	<br>

	<div ng-repeat="x in stats track by $index">{{x}}</div>
<!--	
</body>-->
