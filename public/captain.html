<head>
	<link rel="stylesheet" type="text/css" href="chess.css">
	
	<script src="jquery.js"></script>
	<script src="angular.js"></script>
	<script src="brandNewAi.js"></script>
	<script src="engine.js"></script>

<script>	
	var appModule = angular.module("appModule", []);

	
	function ApplicationController( $http, $interval,  $scope) {	
		
		
		var whoIsLearningConst=1500
		$scope.learners=[]
		
		$interval(function(){
			$http.get('/whoIsLearning?r='+Math.random()).then(function(response){
				$scope.learners=response.data.learners
				$scope.learners.sort(function(a,b){
					if(Number(a[5])>Number(b[5])){
						return -1
					}else{
						if(Number(a[5])<Number(b[5])){
							return 1
						}else{
							return 0
						}
							
							
						
					}
				})
				//$scope.$apply()
			})
			
	},whoIsLearningConst)
	
	
	
	$scope.setModType=function(modType){
		$http.get('/mod?m='+modType).then(
			function(response){
				
				$http.get('/getModType').then(
					function(response2){
						alert(response2.data)
					}
				)
				
				
				
			}
		)
	}


	
	}
appModule.controller("ApplicationController", ApplicationController);

</script>
</head>
<body ng-app="appModule"  ng-controller="ApplicationController">
	
	
	<form ng-if="cookieID==''" ng-submit="setModType(thisModType)">
		ModType<input ng-model="thisModType"></input>
<!--		
		id="inputModType" 
		-->
	</form>
	
	
	<!--<div ng-repeat="x in learners">{{x}}</div>-->
	<table>
		<tr>
			<td>
				name	
			</td>
			<td>
				tableNum	
			</td>
			<td>
				modeType	
			</td>
			<td>
				pollNum	
			</td>
			<td>
				modVal	
			</td>
			<td>
				moves / minute	
			</td>
			
		</tr>
		<tr ng-repeat="x in learners">
	
			<td ng-repeat="y in x">
				{{y}}
			</td>
		</tr>
	</table>
	
	
</body>